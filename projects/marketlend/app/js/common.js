$(document).ready(function(){$(window).on("scroll",function(){var e=$(window).scrollTop(),a=$("#invest_count"),s=a.attr("data-value"),t=$.animateNumber.numberStepFactories.separator(",");e>=5?$(".header").addClass("fixed"):$(".header").removeClass("fixed"),e>a.offset().top-$(window).height()+50&&a.animateNumber({number:s,numberStep:t},1e3)}),$(".range_summ").asRange({keyboard:!0,tip:!0}),$(".range_summ").on("asRange::change",function(e){var a=$("#summ").val(),s=$("#time").val(),t=$(".monthly_repaymant"),r=$(".total_payable"),o=1.3/100*5e4+.0042*(a-5e4),i=(1.3/100*5e4+.0042*(a-5e4))*s;t.html("$"+o.toFixed(2)),r.html("$"+i.toFixed(2))});var e=$("#email"),a=$("#phone"),s=$(".text_input");a.mouseleave(function(){var e=/^\d[\d\(\)\ -]{4,14}\d$/,s=a.val();e.test(s)?($(this).addClass("checked"),$(this).removeClass("has_error")):($(this).removeClass("checked"),$(this).addClass("has_error")),""==s&&($(this).removeClass("checked"),$(this).removeClass("has_error"))}),e.mouseleave(function(){var a=/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i,s=e.val();a.test(s)?($(this).addClass("checked"),$(this).removeClass("has_error")):($(this).removeClass("checked"),$(this).addClass("has_error")),""==s&&($(this).removeClass("checked"),$(this).removeClass("has_error"))}),s.mouseleave(function(){e.hasClass("checked")&&a.hasClass("checked")&&($(".calculator_text").removeClass("hidden"),$(".form_btn").removeClass("disabled"),$(".errors").addClass("hidden"))}),$(".credit_form").submit(function(){var e=$(this),a=!1;if(e.find("input, textarea").each(function(){""==$(this).val()&&(alert('Зaпoлнитe пoлe "'+$(this).attr("placeholder")+'"!'),a=!0)}),!a){var s=e.serialize();$.ajax({type:"POST",url:"ctrl/mail.php",dataType:"json",data:s,beforeSend:function(a){e.find('input[type="submit"]').attr("disabled","disabled")},success:function(e){e.error?alert(e.error):$(".success").html("<h3>Thanks, your message has been sent.</h3>")},error:function(e,a,s){alert(e.status),alert(s)},complete:function(a){e.find('input[type="submit"]').prop("disabled",!1)}})}return!1})});