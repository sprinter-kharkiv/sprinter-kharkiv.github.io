$(document).ready(function(){$(window).on("scroll",function(){var e=$(window).scrollTop(),a=$("#invest_count"),s=a.attr("data-value"),r=$.animateNumber.numberStepFactories.separator(",");e>=5?$(".header").addClass("fixed"):$(".header").removeClass("fixed"),e>a.offset().top-$(window).height()+50&&a.animateNumber({number:s,numberStep:r},1e3)}),$(".range_summ").asRange({keyboard:!0,tip:!0}),$(".range_summ").on("asRange::change",function(e){var a=$("#summ").val(),s=$("#time").val(),r=$(".monthly_repaymant"),t=$(".total_payable"),o=1.3/100*5e4+.0042*(a-5e4),i=(1.3/100*5e4+.0042*(a-5e4))*s;r.html("$"+o.toFixed(2)),t.html("$"+i.toFixed(2))});var e=$("#email"),a=$("#phone"),s=$(".text_input");a.mouseleave(function(){var e=/^\d[\d\(\)\ -]{4,14}\d$/,s=a.val();e.test(s)?($(this).addClass("checked"),$(this).removeClass("has_error")):($(this).removeClass("checked"),$(this).addClass("has_error")),""==s&&($(this).removeClass("checked"),$(this).removeClass("has_error"))}),e.mouseleave(function(){var a=/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i,s=e.val();a.test(s)?($(this).addClass("checked"),$(this).removeClass("has_error")):($(this).removeClass("checked"),$(this).addClass("has_error")),""==s&&($(this).removeClass("checked"),$(this).removeClass("has_error"))}),""==$(".message_block").text()&&s.mouseleave(function(){e.hasClass("checked")&&a.hasClass("checked")&&($(".calculator_text").removeClass("hidden"),$(".form_btn").removeClass("disabled"))}),$(".credit_form").submit(function(){var e=$(this),a=e.serialize();return $.ajax({type:"POST",url:"ctrl/mail.php",dataType:"json",data:a,beforeSend:function(a){e.find('input[type="submit"]').attr("disabled","disabled")},success:function(e){e.error?$(".errors").html("<h3>Error:"+e.error+"</h3>"):($(".success").html("<h3>Thanks, your message has been sent.</h3>"),$(".calculator_text").addClass("hidden"))},error:function(e,a,s){$(".errors").html("<h3>Error:"+s+"</h3>"),$(".calculator_text").addClass("hidden")},complete:function(a){e.find('input[type="submit"]').prop("disabled",!1)}}),!1})});